## 系统架构图

```
┌─────────────────────────────────────────────────────────────────┐
│                         Client (HTTP/WebSocket)                 │
└─────────────────────────────────┬───────────────────────────────┘
                                  │
                                  ▼
┌─────────────────────────────────────────────────────────────────┐
│                     API Gateway (Hertz :8888)                   │
│  ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────────────┐    │
│  │   JWT    │ │  Router  │ │   RPC    │ │    WebSocket     │    │
│  │  Auth    │ │  Handler │ │  Client  │ │       Hub        │    │
│  └──────────┘ └──────────┘ └──────────┘ └──────────────────┘    │
└─────────────────────────────────┬───────────────────────────────┘
                                  │ RPC (Kitex)
              ┌───────────────────┼───────────────────┐
              ▼                   ▼                   ▼
┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐
│  User Service   │  │  Video Service  │  │  Social Service │
└────────┬────────┘  └────────┬────────┘  └────────┬────────┘
         │                    │                    │
         └──────────┬─────────┴──────────┬─────────┘
                    ▼                    ▼
┌─────────────────────┐  ┌─────────────────────────────────────┐
│ Interaction Service │  │         Chat Service                │
└─────────┬───────────┘  └─────────────┬───────────────────────┘
          │                            │
          └──────────┬─────────────────┘
                     ▼
┌─────────────────────────────────────────────────────────────────┐
│                        Infrastructure                           │
│  ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────────────┐    │
│  │  MySQL   │ │  Redis   │ │   Etcd   │ │      Kafka       │    │
│  └──────────┘ └──────────┘ └──────────┘ └──────────────────┘    │
│  ┌──────────────────────────────────────────────────────────┐   │
│  │                      Cloudflare R2                       │   │
│  └──────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────┘
```